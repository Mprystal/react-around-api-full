{"version":3,"sources":["images/Vectorlogo.svg","componets/Header.js","contexts/CurrentUserContext.js","componets/Card.js","componets/Footer.js","componets/Main.js","componets/PopupWithForm.js","componets/PopupWithImage.js","componets/EditProfilePopup.js","componets/EditAvatarPopup.js","componets/AddPlacePopup.js","utils/api.js","componets/Register.js","componets/Login.js","utils/auth.js","componets/ProtectedRoute.js","componets/InfoTooltip.js","images/Unionchk.svg","images/Unionx.svg","componets/App.js","reportWebVitals.js","index.js"],"names":["Header","loggedIn","handleSignOut","path","email","className","src","aroundtheus","alt","onClick","href","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","ownerId","_id","cardDeleteButton","isLiked","card","likes","some","i","cardLikeButton","onCardDelete","aria-label","type","onCardClick","style","backgroundImage","title","onCardLike","Footer","Main","onEditAvatar","avatar","name","onEditProfile","about","onAddPlace","cards","map","onImage","link","owner","length","PopupWithForm","isOpen","onClose","action","onSubmit","children","PopupWithImage","undefined","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","value","onChange","target","required","minLength","maxLength","placeholder","EditAvatarPopup","inputRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","onAddPlaceSubmit","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","res","ok","json","Promise","reject","statusText","catch","err","console","log","method","body","JSON","stringify","cardId","methodName","authorization","Register","password","handlePasswordChange","handleEmailChange","handleRegisterSubmit","textDecoration","color","Login","handleLoginSubmit","BASE_URL","ProtectedRoute","Component","component","to","InfoTooltip","image","open","message","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setEmail","setPassword","setMessage","x","setImage","history","useHistory","token","jwt","localStorage","getItem","data","push","all","getUserInfo","getCardList","userInfo","cardListData","removeItem","closeAllPopups","Provider","exact","handleCardClick","changeLikeCardStatus","newCard","newCards","c","handleCardLike","removeCard","cardsAfterDelete","filter","handleCardDelete","setTimeout","register","status","Error","check","response","setItem","authorize","setUserAvatar","setUserInfo","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0a942978.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Vectorlogo.c7581985.svg\";","import React from 'react';\r\nimport aroundtheus from '../images/Vectorlogo.svg';\r\n\r\n\r\nfunction Header({loggedIn,handleSignOut, path, email}){\r\n\r\n    function handleButtonDisplay(){\r\n        if(loggedIn){\r\n           return <button onClick={handleSignOut} className='header__button'>\r\n                Log out\r\n            </button>\r\n        } else if(!loggedIn && path === 'signin'){\r\n           return <a href='/signup'  className='header__link' >\r\n                Sign up\r\n            </a>\r\n        } else {\r\n           return <a href='/signin' className='header__link' > \r\n                Log in\r\n            </a>\r\n        }\r\n    }\r\n    \r\n    return(\r\n        <header className=\"header\">\r\n            <img src={aroundtheus} alt=\"Logo\" className=\"header__logo\" />\r\n            <div className=\"header__login-container\">\r\n                { loggedIn ? <p className='header__paragraph'> {email} </p> : ''}\r\n            \r\n               { handleButtonDisplay()}\r\n               \r\n            </div>   \r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props){\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = props.ownerId === currentUser._id;\r\n\r\n  const cardDeleteButton = (\r\n    `element__card-remove ${isOwn ? 'element__card-remove' : 'element__card-hidden'}`\r\n  ); \r\n\r\n    // Check if the card was liked by the current user\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  // Create a variable which you then set in `className` for the like button\r\n  const cardLikeButton = `${isLiked ? 'element__card-heart_active' : 'element__card-heart'}`; \r\n\r\n  function handleClick() {\r\n    props.onCardClick();\r\n  }  \r\n\r\n  function handleLikeClick(card){\r\n    props.onCardLike(card)\r\n  }\r\n\r\n  function handleDeleteClick(card){\r\n    props.onCardDelete(card)\r\n  }\r\n\r\n\r\n    return(\r\n            <li className=\"element__card\">\r\n                <button\r\n                  onClick={handleDeleteClick}\r\n                  className={cardDeleteButton}\r\n                  aria-label=\"Remove card button\"\r\n                  type=\"button\"\r\n                ></button>\r\n\r\n              <div onClick={handleClick} className=\"element__card-img\" style={{ backgroundImage: `url(${props.src})` }}></div>\r\n\r\n              <h2 className=\"element__card-heading\">{props.title}</h2>\r\n                <div className=\"element__card-group-likes\">\r\n                  <button\r\n                    className={cardLikeButton}\r\n                    onClick={handleLikeClick}\r\n                    aria-label=\"Like this card button\"\r\n                    type=\"button\"\r\n                  ></button>\r\n                  <p className=\"element__card-likes\">{props.likes}</p>\r\n                </div>\r\n            </li>\r\n    )\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\n\r\nfunction Footer(){\r\n    return(\r\n        <footer className=\"footer\">\r\n         <p className=\"footer__text\">&copy; 2020 Around The U.S.</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport Card from './Card';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\nimport Header from './Header'\r\nimport Footer from './Footer'\r\n\r\n\r\nfunction Main(props){\r\n  \r\n  const currentUser = React.useContext(CurrentUserContext);\r\n    return(\r\n      <>\r\n      <Header  loggedIn={props.loggedIn} handleSignOut={props.handleSignOut} email={props.email} />\r\n        <main>\r\n        <section className=\"profile\">\r\n          <div className=\"profile__container\">\r\n            <button\r\n              className=\"profile__img-form\"\r\n              onClick={props.onEditAvatar}\r\n              aria-label=\"Change profile picture button\"\r\n              type=\"button\"\r\n            >\r\n              <div className=\"profile__img\" style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\r\n            </button>\r\n\r\n            <div className=\"profile__info\">\r\n              <div className=\"profile__edit\">\r\n                <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                <button\r\n                  className=\"profile__edit-button\"\r\n                  onClick={props.onEditProfile}\r\n                  aria-label=\"Edit profile button\"\r\n                  type=\"button\"\r\n                ></button>\r\n              </div>\r\n                 <p className=\"profile__occupation\">{currentUser.about}</p>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            className=\"profile__add-button\"\r\n            onClick={props.onAddPlace}\r\n            aria-label=\"Add profile button\"\r\n            type=\"button\"\r\n          ></button>\r\n\r\n\r\n          \r\n        </section>\r\n       \r\n        <section className=\"elements\">\r\n            <ul className=\"element\">\r\n              \r\n              {props.cards.map((card) => (\r\n                  <Card \r\n                  key={card._id} \r\n                  onCardClick={()=>{props.onImage(card)}} \r\n                  src={card.link} \r\n                  card={card} \r\n                  title={card.name} \r\n                  onCardLike={()=>{props.onCardLike(card)}} \r\n                  onCardDelete={()=>{props.onCardDelete(card)}} \r\n                  ownerId={card.owner._id} \r\n                  likes={card.likes.length}\r\n                  />\r\n                  )\r\n                  )}\r\n            </ul>\r\n        </section>      \r\n      </main>\r\n      <Footer />\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction PopupWithForm(props){\r\n    return(\r\n    <div className={`popup ${props.name} ${props.isOpen && 'popup_open'}`} >\r\n            <div className=\"popup__container\">\r\n                <button\r\n                    onClick={props.onClose}\r\n                    className=\"popup__close-button\"\r\n                    aria-label=\"Close popup button\"\r\n                    type=\"button\"\r\n                ></button>\r\n                <form action=\"#\" className=\"popup__form\" onSubmit={props.onSubmit}>\r\n                    <h3 className=\"popup__header\">{props.title}</h3>\r\n                    {props.children}\r\n\r\n                    <button\r\n                    type=\"submit\"\r\n                    className=\"popup__save popup__save_disabled popup_save-edit\"\r\n                    >\r\n                    Save\r\n                    </button>\r\n                </form>\r\n                \r\n            </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\n\r\nfunction PopupWithImage(props){\r\n    if (props.card === undefined) {\r\n        return null;\r\n      } else {\r\n        \r\n      \r\n    \r\n    return(\r\n        <div className={`popup popup_theme_trans popup_type_image ${props.card && 'popup_open'}`}>\r\n            <div className=\"popup__container\">\r\n            <figure className=\"popup__fig\">\r\n                <img className=\"popup__figimg\" src={`${props.card.link}`} alt={`${props.card.name}`}/>\r\n                <figcaption className=\"popup__figcap\">{props.card.name}</figcaption>\r\n            </figure>\r\n\r\n            <button\r\n                className=\"popup__close-button\"\r\n                aria-label=\"Close popup button\"\r\n                onClick={props.onClose}\r\n                type=\"button\"\r\n            ></button>\r\n            </div>\r\n        </div>\r\n    )\r\n      }\r\n}\r\n\r\nexport default PopupWithImage;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props){\r\n    const [name, setName] = React.useState('')\r\n    const [description, setDescription] = React.useState('')\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function nameChangeHandler(e){\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function descriptionChangeHandler(e){\r\n        setDescription(e.target.value)\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name || '');\r\n        setDescription(currentUser.about || '');\r\n      }, [currentUser]); \r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        // Pass the values of the managed components to the external handler\r\n        props.onUpdateUser({\r\n          name,\r\n          about: description,\r\n        });\r\n      } \r\n\r\n    return(\r\n        <PopupWithForm  name={\"popup_type_edit-profile\"} onSubmit={handleSubmit} title={\"Edit profile\"} children={\r\n            <>\r\n            <input\r\n                  id=\"profile-name\"\r\n                  className=\"popup__user-input popup__user-input_type_name\"\r\n                  type=\"text\"\r\n                  name=\"user_name\"\r\n                  value={name}\r\n                  onChange={nameChangeHandler}\r\n                  required\r\n                  minLength=\"2\"\r\n                  maxLength=\"40\"\r\n                  placeholder=\"User Name\"\r\n                />\r\n    \r\n                <span id=\"profile-name-error\" className=\"popup__error\"></span>\r\n    \r\n                <input\r\n                  id=\"profile-about\"\r\n                  className=\"popup__user-input popup__user-input_type_about\"\r\n                  type=\"text\"\r\n                  value={description}\r\n                  onChange={descriptionChangeHandler}\r\n                  name=\"user_about\"\r\n                  required\r\n                  minLength=\"2\"\r\n                  maxLength=\"200\"\r\n                  placeholder=\"User About\"\r\n                />\r\n    \r\n                <span id=\"profile-about-error\" className=\"popup__error\"></span>\r\n            </>\r\n          } isOpen={props.isOpen} onClose={props.onClose} />\r\n    )\r\n}\r\n\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction EditAvatarPopup(props){\r\n    const inputRef = React.useRef('')\r\n\r\n    function handleAvatarSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        props.onUpdateAvatar({\r\n          avatar: inputRef.current.value\r\n        })\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm  onSubmit={handleAvatarSubmit} name={\"popup_type_profile-img\"} title={\"Change Profile Picture\"} children={\r\n            <>\r\n              <input\r\n                  id=\"profile-img-url\"\r\n                  className=\"popup__user-input popup__user-input_url\"\r\n                  type=\"url\"\r\n                  name=\"link\"\r\n                  ref={inputRef}\r\n                  placeholder=\"Image link\"\r\n                  required\r\n                />\r\n    \r\n                <span id=\"profile-img-url-error\" className=\"popup__error\"></span>\r\n            </>\r\n          } isOpen={props.isOpen} onClose={props.onClose}/>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\n\r\nfunction AddPlacePopup(props){\r\n    const [name, setName] = React.useState('')\r\n    const [link, setLink] = React.useState('')\r\n    \r\n\r\n    function nameChangeHandler(e){\r\n        setName(e.target.value)\r\n    }\r\n\r\n    function linkChangeHandler(e){\r\n        setLink(e.target.value)\r\n    }\r\n\r\n      function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        // Pass the values of the managed components to the external handler\r\n        props.onAddPlaceSubmit({\r\n          name,\r\n          link\r\n        });\r\n        setName('')\r\n        setLink('')\r\n      } \r\n\r\n    return(\r\n        <PopupWithForm  name={\"popup_type_add-card\"} onSubmit={handleSubmit} title={\"New Place\"} isOpen={props.isOpen} onClose={props.onClose}>\r\n            <input\r\n                  id=\"card-title\"\r\n                  className=\"popup__user-input popup__user-input_card-heading\"\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={name}\r\n                  onChange={nameChangeHandler}\r\n                  placeholder=\"Title\"\r\n                  required\r\n                  minLength=\"1\"\r\n                  maxLength=\"30\"\r\n                />\r\n    \r\n                <span id=\"card-title-error\" className=\"popup__error\"></span>\r\n    \r\n                <input\r\n                  id=\"card-url\"\r\n                  className=\"popup__user-input popup__user-input_url\"\r\n                  value={link}\r\n                  onChange={linkChangeHandler}\r\n                  type=\"url\"\r\n                  name=\"link\"\r\n                  placeholder=\"Image link\"\r\n                  required\r\n                />\r\n    \r\n                <span id=\"card-url-error\" className=\"popup__error\"></span>\r\n           \r\n            </PopupWithForm>\r\n    \r\n    )\r\n}\r\n\r\n\r\nexport default AddPlacePopup;","class Api {\r\n  constructor({ baseUrl, headers }) {\r\n    this._baseUrl = baseUrl;\r\n    this._headers = headers;\r\n  }\r\n\r\n  //   GET https://around.nomoreparties.co/v1/groupId/cards\r\n  getCardList() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Error! ${res.statusText}`).catch((err) =>\r\n            console.log(err)\r\n          )\r\n    );\r\n  }\r\n  //   GET https://around.nomoreparties.co/v1/groupId/users/me\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Error! ${res.statusText}`).catch((err) =>\r\n            console.log(err)\r\n          )\r\n    );\r\n  }\r\n  //   getAppInfo() {} dont need but can 21mins in vid\r\n\r\n  //   POST https://around.nomoreparties.co/v1/groupId/cards\r\n  addCard({ name, link }) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        link,\r\n      }),\r\n    }).then((res) =>\r\n      res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Error! ${res.statusText}`).catch((err) =>\r\n            console.log(err)\r\n          )\r\n    );\r\n  }\r\n  //   DELETE https://around.nomoreparties.co/v1/groupId/cards/cardId\r\n  removeCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Error! ${res.statusText}`).catch((err) =>\r\n            console.log(err)\r\n          )\r\n    );\r\n  }\r\n\r\n  //   PUT https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    const methodName = isLiked ? \"DELETE\" : \"PUT\";\r\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n      method: methodName,\r\n      headers: this._headers,\r\n    }).then((res) =>\r\n      res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Error! ${res.statusText}`).catch((err) =>\r\n            console.log(err)\r\n          )\r\n    );\r\n  }\r\n\r\n  //   DELETE https://around.nomoreparties.co/v1/groupId/cards/likes/cardId\r\n\r\n  //   PATCH https://around.nomoreparties.co/v1/groupId/users/me\r\n  setUserInfo({ name, about }) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name,\r\n        about,\r\n      }),\r\n    }).then((res) =>\r\n      res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Error! ${res.statusText}`).catch((err) =>\r\n            console.log(err)\r\n          )\r\n    );\r\n  }\r\n  //   PATCH https://around.nomoreparties.co/v1/groupId/users/me/avatar\r\n  setUserAvatar( avatar ) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar:avatar\r\n      }),\r\n    }).then((res) =>\r\n      res.ok\r\n        ? res.json()\r\n        : Promise.reject(`Error! ${res.statusText}`).catch((err) =>\r\n            console.log(err)\r\n          )\r\n    );\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://around.nomoreparties.co/v1/group-4\",\r\n  headers: {\r\n    authorization: \"df5252cc-ce9a-49bc-822a-e9a6c67f648c\",\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\n\r\nfunction Register({email, password, handlePasswordChange,handleEmailChange, handleRegisterSubmit}) {\r\n\r\n    return (\r\n        <div className='register'>\r\n           \r\n            <h2 className='register__heading'>Sign up</h2>\r\n           \r\n            <form onSubmit={handleRegisterSubmit} className='register__form'>\r\n                <input id='email' name='email' type='email' className='register__input' placeholder='Email' value={email} onChange={handleEmailChange} />\r\n\r\n                <input id='password' name='password' type='password' value={password} className='register__input' placeholder='Password' onChange={handlePasswordChange}/>\r\n\r\n                <button type='submit' className='register__button'>Sign up</button>\r\n                \r\n            </form>\r\n          \r\n            <p className='register__paragraph'><a href=\"/signin\" style={{textDecoration:'none', color: 'white'}}>Already a member? Log in here!</a> </p>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from \"react\";\r\n\r\nfunction Login ({handleLoginSubmit, email, password,handlePasswordChange,handleEmailChange}) {\r\n    \r\n    return (\r\n\r\n        <div className='login'>\r\n           \r\n            <h2 className='login__heading'>Log in</h2>\r\n           \r\n            <form onSubmit={handleLoginSubmit} className='login__form'>\r\n                <input id='email' name='email' type='email' className='login__input' placeholder='Email' value={email} onChange={handleEmailChange} />\r\n\r\n                <input id='password' name='password' type='password' value={password} className='login__input' placeholder='Password' onChange={handlePasswordChange} />\r\n\r\n                <button type='submit' className='login__button'>Log in</button>\r\n                \r\n            </form>\r\n          \r\n            <p className='login__paragraph'><a href=\"/signup\" style={{textDecoration:'none', color: 'white'}} >Not a member? Sign up here!</a> </p>\r\n\r\n        </div>\r\n        \r\n       \r\n    )\r\n}\r\n\r\nexport default Login;","const BASE_URL = 'https://register.nomoreparties.co'\r\n\r\nexport const register = (email, password) => {\r\n    return fetch(`${BASE_URL}/signup`,{\r\n        method: 'POST',\r\n        headers: {         \r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n    .catch((err) => console.log(err))\r\n}\r\n\r\nexport const authorize = (email , password) => {\r\n    return fetch(`${BASE_URL}/signin`,{\r\n        method: 'POST',\r\n        headers: {\r\n            \"Content-Type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify({email, password})\r\n    })\r\n    .then(((response) => {\r\n        return response.json()\r\n    }))\r\n    .then((data)=>{\r\n        if(data.token){\r\n            localStorage.setItem('jwt', data.token);\r\n            return data\r\n        } else {\r\n            return\r\n        }\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`,{\r\n        method: 'GET',\r\n        headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\" : `Bearer ${token}`\r\n        }\r\n    })\r\n    .then( res => {\r\n       return res.json()\r\n    })\r\n    .then(data => data)\r\n    .catch((err) => console.log(err))\r\n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nconst ProtectedRoute = ({ component: Component,  ...props  }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} />  : <Redirect to='./signup' />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute; ","import React,{} from 'react';\r\n\r\n\r\nfunction InfoTooltip({onClose, image, open, message}) {\r\n   \r\n\r\n    return(\r\n        <div className={`popup ${open && 'popup_open'}`}>\r\n             <div className=\"popup__container\">\r\n                    <button\r\n                    className=\"popup__close-button\"\r\n                    aria-label=\"Close popup button\"\r\n                    onClick={onClose}\r\n                    type=\"button\">   \r\n                    </button>\r\n                 <div className=\"infoTool\">\r\n                        <img className=\"infoTool__img\" src={image} alt={'Success / failure icon'}/>\r\n                        <p className=\"infoTool__paragraph\" style={{color:'black'}}>{message}</p>\r\n                 </div>\r\n                \r\n                 \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;","export default __webpack_public_path__ + \"static/media/Unionchk.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Unionx.df8eddf6.svg\";","import React, {useState} from 'react';\nimport {Route, Switch, useHistory, Redirect } from \"react-router-dom\";\n\nimport Header from './Header';\nimport Main from './Main';\nimport PopupWithForm from './PopupWithForm';\nimport PopupWithImage from './PopupWithImage';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport Register from './Register';\nimport Login from './Login';\nimport {getContent, register,authorize} from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\nimport check from '../images/Unionchk.svg';\nimport x from '../images/Unionx.svg';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] =useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false); \n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = useState(undefined);\n  const [currentUser, setCurrentUser] = useState({});\n  const[cards, setCards]=useState([]);\n  const[loggedIn, setLoggedIn] = useState(false); \n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [image, setImage]= useState(x)\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if(jwt){\n     getContent(jwt)\n     .then((res)=> {\n       if(res){\n         setEmail(res.data.email)\n        setLoggedIn(true);\n        history.push('/')\n       }\n     })\n    }\n  }, [history])\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(),api.getCardList()]).then(\n      ([userInfo,cardListData]) => { \n         setCurrentUser(userInfo)\n         setCards(cardListData)\n        }).catch((err) => {\n          console.log(`Error: ${err}`);\n        })\n      },[])\n\n  const handleSignOut = () =>{\n      localStorage.removeItem('jwt')\n      setLoggedIn(false);\n      history.push('/signin')\n  }\n\n  function handleCardLike(card) {        \n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\n    const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n    setCards(newCards);\n    }).catch((e)=>console.log(e));\n  } \n\n  function handleCardDelete(card){\n    api.removeCard(card._id).then(()=>{\n        const cardsAfterDelete = cards.filter((c) => c._id !== card._id)\n        setCards(cardsAfterDelete);\n    }).catch((e) => console.log(e))\n   }\n\n  function handleUpdateUser({name , about}){ \n    api.setUserInfo({name, about})\n    .then(data => setCurrentUser(data))\n    .then(()=>{closeAllPopups();})\n    .catch(err => console.log(err))\n  }\n\n  function handleAddPlaceSubmit({name, link}){\n    api.addCard({name, link})\n    .then((newCard) =>setCards([newCard, ...cards]))\n    .then(()=>{closeAllPopups();})\n    .catch(err => console.log(err))\n  }\n\n  function handleUpdateAvatar({avatar}){\n      api.setUserAvatar(avatar)\n      .then(data => setCurrentUser(data))\n      .then(()=>{closeAllPopups();})\n      .catch(err => console.log(err))\n  }\n\n  function closeAllPopups(){\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard(undefined);\n    setIsInfoTooltipOpen(false)\n  }\n\n  function handleCardClick(card){\n    setSelectedCard(card);\n    \n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleLogin(){\n    setLoggedIn(true);\n  }\n\n  const handleLoginSubmit = (e) => {\n      e.preventDefault();   \n      if(!email || !password){\n          return\n      }   \n      authorize(email, password)\n      .then((data) => {\n          if(!data){   \n              throw new Error('error!')\n          }\n          if(data.token){   \n              setPassword(''); \n              handleLogin();\n              history.push('/')\n              return\n          }\n      })\n      .catch(err => \n          console.log(err) \n      )\n  }\n\n  const handleRegisterSubmit = (e) => {\n    e.preventDefault();\n    setTimeout(() => {\n        setIsInfoTooltipOpen(true)\n    }, 500);\n    register(email, password)\n    .then((res) => {\n        if( !res || res.status === 400){  \n            throw new Error( 'Error!')\n        } else if(res.status === 200 || 201) {\n                return res.json();\n        }    \n    }).then(()=> {\n            setImage(check)\n            setMessage('Success! You have now been registered.')\n    })\n    .then(()=> {\n        setEmail('');\n        setPassword('');\n        setTimeout(() => {\n            setIsInfoTooltipOpen(false)\n            setImage('')\n            history.push('/signin');\n        }, 1500);\n        \n    })\n    .catch(() => {\n            setImage(x)\n            setMessage('Oops, something went wrong! Please try again.') \n    })\n}\n\n  function handleEmailChange(e){\n    setEmail(e.target.value)\n  }\n\n  function handlePasswordChange(e){\n    setPassword(e.target.value)\n  }\n\n  \n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <Switch>\n        <ProtectedRoute exact path=\"/\" \n        loggedIn={loggedIn} \n        handleSignOut={handleSignOut}\n        component={Main} \n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick} \n        onAddPlace={handleAddPlaceClick} \n        onImage={(card)=>{handleCardClick(card)}}\n        onCardLike={(card)=>{handleCardLike(card)}} \n        onCardDelete={(card)=>{handleCardDelete(card)}} \n        cards={cards}\n        email={email}\n        />\n         \n        <Route exact path=\"/signup\">\n          <Header loggedIn={loggedIn} handleSignOut={handleSignOut} /> \n          <Register  \n          email={email}\n          password={password}\n          handleEmailChange={handleEmailChange}\n          handlePasswordChange={handlePasswordChange}\n          handleRegisterSubmit={handleRegisterSubmit}\n          />  \n        </Route>\n        <Route exact path=\"/signin\">\n          <Header loggedIn={loggedIn} path={'signin'} handleSignOut={handleSignOut} /> \n          <Login \n            handleLoginSubmit={handleLoginSubmit}\n            email={email}\n            password={password}\n            handleEmailChange={handleEmailChange}\n            handlePasswordChange={handlePasswordChange} />  \n        </Route>\n        <Route path='*'>\n          <Redirect to='./signup' />\n        </Route>\n      </Switch>\n     \n \n      <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n\n      <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups}/>\n\n      <AddPlacePopup onAddPlaceSubmit={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}/>\n\n      <PopupWithForm name={\"popup_type_delete-card\"} title={\"Are you sure?\"} />\n\n      <PopupWithImage card={selectedCard}  onClose={closeAllPopups}/>\n\n      <InfoTooltip image={image} message={message} open={isInfoTooltipOpen} onClose={closeAllPopups}/>\n      \n    \n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './componets/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />  \n    </BrowserRouter> \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}